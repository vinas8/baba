// Enable Xbox 360 gamepad support
BABYLON.Tools.GamepadSupport = true;

var createScene = function () {
  var scene = new BABYLON.Scene(engine);
  var camera = new BABYLON.ArcRotateCamera(
    "camera",
    BABYLON.Tools.ToRadians(90),
    BABYLON.Tools.ToRadians(65),
    10,
    BABYLON.Vector3.Zero(),
    scene
  );
  camera.attachControl(canvas, true);

  // Create a ball
  var ball = BABYLON.MeshBuilder.CreateSphere("ball", { diameter: 1 }, scene);

  // Create an Xbox controller object
  var xboxController = new BABYLON.Xbox360Pad();

  // Define a speed for the ball's movement
  var movementSpeed = 0.1;

  // Set the Xbox controller to control the ball's movement
  xboxController.onleftstickchanged((values) => {
    // Update the ball's position based on the left stick input
    ball.position.x += values.x * movementSpeed;
    ball.position.z += values.y * movementSpeed;
  });

  return scene;
};

var engine = new BABYLON.Engine(canvas, true);
var scene = createScene();

